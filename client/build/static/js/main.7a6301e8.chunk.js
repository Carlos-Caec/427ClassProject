(this["webpackJsonpspeedgolf-react"]=this["webpackJsonpspeedgolf-react"]||[]).push([[0],{178:function(e,t,a){e.exports=a(819)},185:function(e,t,a){},226:function(e,t){},228:function(e,t){},708:function(e,t){},710:function(e,t){},739:function(e,t){},740:function(e,t){},819:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a.n(n),r=a(98),o=a.n(r),s=(a(183),a(184),a(185),a(31)),l=a.n(s),i=a(37),u=a(22),m=a(23),d=a(25),p=a(24),h=a(26),f={LOGIN:"LoginMode",HOMEPAGE:"HomePageMode",TWOFACTOR:"SMSMode"};Object.freeze(f);var g=f,b=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).getMenuBtnIcon=function(){return a.props.mode===g.ROUNDS_LOGROUND||a.props.mode===g.ROUNDS_EDITROUND?"fa fa-arrow-left":a.props.menuOpen?"fa fa-times":"fa fa-bars"},a.handleMenuBtnClick=function(){a.props.mode===g.ROUNDS_LOGROUND||a.props.mode===g.ROUNDS_EDITROUND?a.props.changeMode(g.ROUNDS):a.props.mode!=g.LOGIN&&a.props.toggleMenuOpen()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("span",{className:"navbar-items"},c.a.createElement("button",{className:"sidemenu-btn",onClick:this.handleMenuBtnClick},c.a.createElement("span",{id:"menuBtnIcon",className:"sidemenu-btn-icon "+this.getMenuBtnIcon()})),c.a.createElement("img",{src:"https://canestrinilex.com/assets/Uploads/blog-pics/f613404b87/Topsecretsidebar__ScaleWidthWzcwMF0.jpg",alt:"Speed Score Logo",height:"38px",width:"38px"}),c.a.createElement("span",{className:"navbar-title"},"\xa0",this.props.title)))}}]),t}(c.a.Component),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderModeMenuItems=function(){switch(a.props.mode){case g.HOMEPAGE:case g.HOMEPAGE:return c.a.createElement("div",null,c.a.createElement("a",{className:"sidemenu-item"},c.a.createElement("span",{className:"fa fa-plus"}),"\xa0Button"));default:return null}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"sidemenu "+(this.props.menuOpen?"sidemenu-open":"sidemenu-closed"),onClick:this.props.toggleMenuOpen},c.a.createElement("div",{className:"sidemenu-title"},c.a.createElement("img",{src:"https://media-exp1.licdn.com/dms/image/C5603AQEWMnL0q7LblQ/profile-displayphoto-shrink_200_200/0?e=1608163200&v=beta&t=11nEmz-HVGJXV1E-b-y043HwzWlR9Ey2R6WLSfgEtxg",height:"50",width:"50"}),c.a.createElement("span",{id:"userID",className:"sidemenu-userID"},"\xa0",this.props.userId)),this.renderModeMenuItems(),c.a.createElement("a",{id:"aboutBtn",className:"sidemenu-item",onClick:this.props.showAbout},c.a.createElement("span",{className:"fa fa-info-circle"}),"\xa0About"),c.a.createElement("a",{id:"logOutBtn",className:"sidemenu-item",onClick:this.props.logOut},c.a.createElement("span",{className:"fa fa-sign-out-alt"}),"\xa0Log Out"))}}]),t}(c.a.Component),O=a(39),N=a(61),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).checkAccountValidity=function(){e.state.accountPassword!=e.state.accountPasswordRepeat?e.repeatPassRef.current.setCustomValidity("This password must match original password."):e.repeatPassRef.current.setCustomValidity("")},e.handleNewAccountChange=function(t){if("profilePic"===t.target.name)if(0==t.target.value.length)e.setState({profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg"});else{var a=Object(N.a)(e),n=(t.target.value,new FileReader);n.readAsDataURL(e.profilePicRef.current.files[0]),n.addEventListener("load",(function(){a.setState({profilePicURL:this.result})}))}else e.setState(Object(O.a)({},t.target.name,t.target.value),e.checkAccountValidity)},e.setDefaultDisplayName=function(t){t.target.value.length>0&&""===e.state.displayName&&e.setState({displayName:t.target.value})},e.handleCreateAccount=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,c,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n="/users/"+e.state.accountName,c={displayName:e.state.displayName,password:e.state.accountPassword,phoneNumber:e.state.accountPhoneNumber,profilePicURL:e.state.profilePicURL,securityQuestion:e.state.accountSecurityQuestion,securityAnswer:e.state.accountSecurityAnswer},t.next=5,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(c)});case 5:if(200!=(r=t.sent).status){t.next=10;break}e.props.accountCreateStatus("New account created! Enter credentials to log in."),t.next=14;break;case 10:return t.next=12,r.text();case 12:o=t.sent,e.props.accountCreateStatus(o);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.newUserRef=c.a.createRef(),e.repeatPassRef=c.a.createRef(),e.profilePicRef=c.a.createRef(),e.state={accountName:"",displayName:"",profilePicURL:"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg",accountPassword:"",accountPasswordRepeat:"",accountPhoneNumber:"",accountSecurityQuestion:"",accountSecurityAnswer:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"modal",role:"dialog"},c.a.createElement("div",{className:"modal-dialog modal-lg"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("center",null,c.a.createElement("h3",{className:"modal-title"},c.a.createElement("b",null,"Create New Account"))),c.a.createElement("button",{className:"close",onClick:this.props.cancelCreateAccount},"\xd7")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("form",{onSubmit:this.handleCreateAccount},c.a.createElement("label",null,"Email:",c.a.createElement("input",{className:"form-control form-text form-center",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0,ref:this.newUserRef,value:this.state.accountName,onChange:this.handleNewAccountChange,onBlur:this.setDefaultDisplayName})),c.a.createElement("label",null,"Password:",c.a.createElement("input",{className:"form-control form-text form-center",name:"accountPassword",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,value:this.state.accountPassword,onChange:this.handleNewAccountChange})),c.a.createElement("label",null,"Repeat Password:",c.a.createElement("input",{className:"form-control form-text form-center",name:"accountPasswordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:this.repeatPassRef,value:this.state.accountPasswordRepeat,onChange:this.handleNewAccountChange})),c.a.createElement("label",null,"Phone Number:",c.a.createElement("input",{className:"form-control form-text form-center",name:"accountPhoneNumber",type:"text",size:"30",placeholder:"Phone Number",required:!0,value:this.state.accountPhoneNumber,onChange:this.handleNewAccountChange})),c.a.createElement("label",null,"Display Name:",c.a.createElement("input",{className:"form-control form-text form-center",name:"displayName",type:"text",size:"30",placeholder:"Display Name",required:!0,value:this.state.displayName,onChange:this.handleNewAccountChange})),c.a.createElement("label",null,"Profile Picture:",c.a.createElement("br",null),c.a.createElement("input",{className:"form-control form-text form-center",name:"profilePic",type:"file",accept:"image/x-png,image/gif,image/jpeg",ref:this.profilePicRef,value:this.state.profilePic,onChange:this.handleNewAccountChange}),c.a.createElement("img",{src:this.state.profilePicURL,height:"60",width:"60"})),c.a.createElement("label",null,"Security Question:",c.a.createElement("textarea",{className:"form-control form-text form-center",name:"accountSecurityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.accountSecurityQuestion,onChange:this.handleNewAccountChange})),c.a.createElement("label",null,"Answer to Security Question:",c.a.createElement("textarea",{className:"form-control form-text form-center",name:"accountSecurityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:this.state.accountSecurityAnswer,onChange:this.handleNewAccountChange})),c.a.createElement("br",null),c.a.createElement("button",{role:"submit",className:"btn btn-primary btn-color-theme modal-submit-btn"},c.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Create Account"))))))}}]),t}(c.a.Component),C=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"modal",role:"dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("center",null,c.a.createElement("h3",{className:"modal-tittle"},c.a.createElement("b",null,"Look up Account"),c.a.createElement("button",{className:"close",onClick:function(){e.setState({showResetPasswordDialog:!1})}},"\xd7")))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("form",{onSubmit:this.handleLookAccount},c.a.createElement("label",null,"Account Email Address:",c.a.createElement("input",{className:"form-control form-text",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[a-Za-z0-9.-]+\\.[a-Za-z]{2,}",ref:this.AccountEmailRef,required:!0})),c.a.createElement("button",{type:"submit",className:"btn btn-primary btn-color-theme form-submit-btn"},c.a.createElement("span",{className:"fa fa-search"}),"\xa0Loop Up Account")))))}}]),t}(c.a.Component),v=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleLoginSubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="auth/login?username="+e.emailInputRef.current.value+"&password="+e.passwordInputRef.current.value,t.next=5,fetch(n,{method:"POST"});case 5:if(200!=(c=t.sent).status){t.next=10;break}window.open("/","_self"),t.next=14;break;case 10:return t.next=12,c.text();case 12:r=t.sent,e.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:r});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.accountCreateStatus=function(t){e.setState({accountCreateMsg:t,showCreateAccountDialog:!1})},e.cancelCreateAccount=function(){e.setState({showCreateAccountDialog:!1})},e.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},e.handleOAuthLoginClick=function(t){var a;e.setState((a={},Object(O.a)(a,t+"Icon","fa fa-spin fa-spinner"),Object(O.a)(a,t+"Label","Connecting..."),a)),setTimeout((function(){return e.handleOAuthLogin(t)}),1e3)},e.emailInputRef=c.a.createRef(),e.passwordInputRef=c.a.createRef(),e.state={accountCreateMsg:"",loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",showCreateAccountDialog:!1,showResetPasswordDialog:!1,loginMsg:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"login-mode-div",className:"padded-page"},c.a.createElement("center",null,c.a.createElement("h1",null),""!=this.state.accountCreateMsg?c.a.createElement("p",{className:"emphasis"},this.state.accountCreateMsg):null,""!=this.state.loginMsg?c.a.createElement("p",{className:"emphasis"},this.state.loginMsg):null,c.a.createElement("form",{id:"loginInterface",onSubmit:this.handleLoginSubmit},c.a.createElement("label",{htmlFor:"emailInput",style:{padding:0,fontSize:24}},"Email:",c.a.createElement("input",{ref:this.emailInputRef,className:"form-control login-text",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),c.a.createElement("p",null),c.a.createElement("label",{htmlFor:"passwordInput",style:{padding:0,fontSize:24}},"Password:",c.a.createElement("input",{ref:this.passwordInputRef,className:"form-control login-text",type:"password",placeholder:"Enter Password",pattern:"[A-Za-z0-9!@#$%^&*()_+\\-]+",required:!0})),c.a.createElement("p",{className:"bg-danger",id:"feedback",style:{fontSize:16}}),c.a.createElement("button",{type:"submit",className:"btn-color-theme btn btn-primary btn-block login-btn"},c.a.createElement("span",{id:"login-btn-icon",className:this.state.loginBtnIcon}),"\xa0",this.state.loginBtnLabel),c.a.createElement("p",null,c.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showCreateAccountDialog:!0})}},"Create an account"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",null,c.a.createElement("i",null,"Need help signing in?")),c.a.createElement("button",{type:"button",className:"btn btn-link login-link",onClick:function(){e.setState({showResetPasswordDialog:!0})}},"Reset your password")),c.a.createElement("p",null,c.a.createElement("i",null,"Version 2.0"))),this.state.showCreateAccountDialog?c.a.createElement(w,{accountCreateStatus:this.accountCreateStatus,cancelCreateAccount:this.cancelCreateAccount}):null,this.state.showResetPasswordDialog?c.a.createElement(C,null):null))}}]),t}(c.a.Component),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).info=function(){alert("clasified")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"padded-page"},c.a.createElement("center",null,c.a.createElement("h1",null,"Classified"),c.a.createElement("h2",null,"Access to files."),c.a.createElement("img",{src:"https://canestrinilex.com/assets/Uploads/blog-pics/f613404b87/Topsecretsidebar__ScaleWidthWzcwMF0.jpg",height:"200",width:"200"}),c.a.createElement("p",{style:{fontStyle:"italic"}},"Version 1.0 Class Project CPTS_427")),c.a.createElement("a",{id:"logOutBtn",className:"logOut-Btn",onClick:this.props.logOut},c.a.createElement("span",{className:"floatbtn-icon"}),"\xa0Log Out"))}}]),t}(c.a.Component),A=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"modal",role:"dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("p",{className:"modal-title"},"2 FA Authentication"),c.a.createElement("button",{id:"modalClose",className:"close",onClick:this.props.hideAbout},"\xd7")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("center",null,c.a.createElement("h1",null,"Classified"),c.a.createElement("h2",null,"Access to files."),c.a.createElement("img",{src:"https://canestrinilex.com/assets/Uploads/blog-pics/f613404b87/Topsecretsidebar__ScaleWidthWzcwMF0.jpg",height:"200",width:"200"}),c.a.createElement("p",{style:{fontStyle:"italic"}},"Version 1.0 Class Project CPTS_427")),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.hideAbout},"OK")))))}}]),t}(c.a.Component),S=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){var a=t.target.name;e.setState(Object(O.a)({},a,t.target.value))},e.handleSubmitCode=function(){var t=Object(i.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),(n=e.SMScode.current.value)===n?(alert("it worked"),window.open("/","_self")):alert("it didnt work!!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSendCode=function(){alert("inside send code");Object({NODE_ENV:"production",PUBLIC_URL:""}).TWILIO_ACCOUNT_SID,Object({NODE_ENV:"production",PUBLIC_URL:""}).TWILIO_AUTH_TOKEN;a(187)("AC4dd61093f3b4ee1ace4bc54d3dadc82a","4d0cf534e0ac1699836e645248ad38d5").messages.create({body:"Your verification code is: ",from:"+12056428670",to:"+15099488676"}).then((function(e){return console.log(e.sid)})),setTimeout(1e3),window.open("/","_self")},e.emailInputRef=c.a.createRef(),e.state={SMScode:"",accountCreateMsg:"",loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:"",val:"",random:0},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"padded-page"},c.a.createElement("center",null,c.a.createElement("h1",null,"SMS Authentication"),c.a.createElement("img",{src:"https://image.freepik.com/free-vector/2fa-icon-password-secure-login-authentication-verification-sms-push-code-messages-symbol-smartphone-mobile-phone-flat-isolated-pictogram_101884-953.jpg",height:"300",width:"400"}),c.a.createElement("h2",null," (+1 XXX-XXX-8181)"),c.a.createElement("form",{onSubmit:this.handleSubmitCode},c.a.createElement("label",null,"Enter Code",c.a.createElement("input",{ref:this.SMScode,className:"form-control form-text form-center",name:"SMSCode",type:"SMSCode",size:"35",placeholder:"Enter Code Here",required:!0}))),c.a.createElement("button",{type:"submit",className:"btn btn-primary btn-color-theme modal-submit-btn",onClick:this.handleSendCode},c.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Send Code"),c.a.createElement("p",null,"option to not challenge after a given time.")),c.a.createElement("a",{id:"logOutBtn",className:"logOut-Btn",onClick:this.props.logOut},c.a.createElement("span",{className:"floatbtn-icon"}),"\xa0Cancel"))}}]),t}(c.a.Component),j={};j[g.LOGIN]="Network Authentication",j[g.HOMEPAGE]="Access Granted",j[g.TWOFACTOR]="SMS Authentication";var R={};R[g.LOGIN]=v,R[g.HOMEPAGE]=y,R[g.TWOFACTOR]=S;var I=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).refreshOnUpdate=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/users/"+e.state.userObj.id);case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,c=JSON.parse(n),e.setState({userObj:c,mode:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleAbout=function(){e.setState((function(e){return{showAbout:!e.showAbout}}))},e.handleChangeMode=function(t){e.setState({mode:t})},e.openMenu=function(){e.setState({menuOpen:!0})},e.closeMenu=function(){e.setState({menuOpen:!1})},e.toggleMenuOpen=function(){e.setState((function(e){return{menuOpen:!e.menuOpen}}))},e.setUserId=function(t){e.setState({userId:t})},e.state={mode:g.LOGIN,menuOpen:!1,mode1:g.TWOFACTOR,userId:"",showAbout:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){t.isAuthenticated&&e.setState({mode:g.TWOFACTOR,userObj:t.user,authenticated:!0})}))}},{key:"render",value:function(){var e=this,t=R[this.state.mode];return c.a.createElement("div",null,this.state.showAbout?c.a.createElement(A,{hideAbout:this.toggleAbout}):null,c.a.createElement(b,{title:j[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen}),c.a.createElement(E,{menuOpen:this.state.menuOpen,mode:this.state.mode,toggleMenuOpen:this.toggleMenuOpen,userId:this.state.userId,showAbout:this.toggleAbout,logOut:function(){return e.handleChangeMode(g.LOGIN)}}),c.a.createElement(t,{menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,userId:this.state.userId,setUserId:this.setUserId,logOut:function(){return e.handleChangeMode(g.LOGIN)}}))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[178,1,2]]]);
//# sourceMappingURL=main.7a6301e8.chunk.js.map